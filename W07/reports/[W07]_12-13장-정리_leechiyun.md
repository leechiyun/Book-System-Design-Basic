# 2024-07-14 12, 13장 정리

## 12장. 채팅 시스템 설계

- 웹 소켓 쓰는 이유
    - HTTP는 stateless인데 영속 연결을 하는데 필요한 overhead를 줄인다.
    - 폴링 방식은 단방향 통신에서 지속적으로 서버에게 요청을 보내 마치 양방향 통신하듯 적용

- 서버가 여러개인 상태에서, 사용자 A/B를 나눌 때, 같은 서버일 필요가 있나?
    - 중계하는 서버는 같아야한다.
    - 같은 곳을 매칭해야한다. service discovering을 줘서 매칭을 해준다.

- 클라이언트 to 클라이언트
    - 웹 소켓은 클라이언트에서 따로 요청을 보내지 않아도, 서버에게 응답을 보낸다.

- 웹 소켓은 연결을 지속적으로 시켜준다. → 사용자가 많아지면 오버헤드가 커진다.
    - [웹 소켓 오버헤드 사례](https://velog.io/@ryudimi/WebSocket-%EC%82%AC%EC%9A%A9-%EC%A4%91-%EB%A7%8C%EB%82%9C-Heap-OutOfMemory)
    - 사용하지 않는 연결은 제거해주는 것으로 해결
    - 여러 서버를 두고 로드 밸런싱 처리를 통해 해결할 수도 있다.

## 13장. 검색어 자동완성 설계

- 프론트엔드, 백엔드에서 구현
    - 서버에서 로직 처리를 진행하고, 브라우저 캐싱을 사용하는 것이 좋다.

- 검색 빈도 테이블이 좋았다.
    - O(1)의 시간까지 검색한다.

- 구글 검색에서 오타를 써도 자동완성 처리를 한다.
    - AI를 사용했을 듯